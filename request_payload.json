{
    "query": {
        "function_score": {
            "query": {
                "bool": {
                    "filter": [
                        {
                            "range": {
                                "level": {
                                    "gte": 4
                                }
                            }
                        },
                        {
                            "range": {
                                "level": {
                                    "lte": 6
                                }
                            }
                        },
                        {
                            "query_string": {
                                "query": "category:creature !category:item-bonus",
                                "default_operator": "AND",
                                "fields": [
                                    "name",
                                    "legacy_name",
                                    "remaster_name",
                                    "text^0.1",
                                    "trait_raw",
                                    "type"
                                ],
                                "minimum_should_match": 0
                            }
                        },
                        {
                            "bool": {
                                "must_not": {
                                    "exists": {
                                        "field": "remaster_id"
                                    }
                                }
                            }
                        }
                    ],
                    "must_not": [
                        {
                            "exists": {
                                "field": "item_child_id"
                            }
                        },
                        {
                            "term": {
                                "exclude_from_search": true
                            }
                        }
                    ]
                }
            },
            "boost_mode": "multiply",
            "functions": [
                {
                    "filter": {
                        "terms": {
                            "type": [
                                "Ancestry",
                                "Class",
                                "Versatile Heritage"
                            ]
                        }
                    },
                    "weight": 1.2
                },
                {
                    "filter": {
                        "terms": {
                            "type": [
                                "Trait"
                            ]
                        }
                    },
                    "weight": 1.05
                }
            ]
        }
    },
    "size": 10000,
    "sort": [
        {
            "name.keyword": {
                "order": "asc"
            }
        },
        "_doc"
    ],
    "track_total_hits": true,
    "_source": false,
    "search_after": [
        "beast tamer",
        13636
    ]
}